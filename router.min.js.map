{"version":3,"file":"router.min.js","sources":["router.js"],"names":["name","definition","module","exports","define","amd","this","addHashchangeListener","el","listener","addEventListener","attachEvent","removeHashchangeListener","removeEventListener","detachEvent","extend","i","arguments","length","key","hasOwnProperty","Function","prototype","bind","object","originalFunction","args","Array","slice","call","shift","apply","concat","PATH_REPLACER","PATH_NAME_MATCHER","PATH_EVERY_MATCHER","PATH_EVERY_REPLACER","PATH_EVERY_GLOBAL_MATCHER","PATH_EVERY_GLOBAL_REPLACER","LEADING_BACKSLASHES_MATCH","Request","href","params","query","splat","hasNext","get","default_value","undefined","Router","options","_options","ignorecase","_routes","_befores","_errors","_","err","url","httpCode","console","warn","_404","_500","error","Error","_paused","_hasChangeHandler","_onHashChange","window","_route","_extractFragment","location","hash_index","indexOf","substring","_throwsRouteError","_buildRequestObject","fragmentUrl","request","completeFragment","split","queryKeyValue","queryString","qLen","decodeURI","replace","splats","_followRoute","matchedIndexes","index","splice","route","match","path","len","paramNames","j","push","next","uO","u","mI","error_code","routeAction","_routeBefores","befores","before","nextBefore","urlToTest","p","test","pause","play","triggerNow","setLocation","history","pushState","redirect","addRoute","add","callback","modifiers","exec","RegExp","errors","isNaN","run","startUrl","destroy"],"mappings":"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"}